<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>view data</title>
</head>

<body>
    <table border="1" id="records">
    </table>

    <button onclick="reset()">Back</button>






    <script>
        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {
                vars[key] = value;
            });
            return vars;
        }
        var first = decodeURI(getUrlVars()["name"]).replace("+", " ");
        var second = decodeURIComponent(getUrlVars()["email"]);
        var third = getUrlVars()["dob"];

        console.log(first);
        console.log(second);
        console.log(third);

        var employees = [];

        let employee = {
            id: Date.now(),
            ename: first,
            email: second,
            dob: third,
        };

        emps = JSON.parse(localStorage.getItem("employeeList") || "[]");
        emps.forEach(function (emp) {
            employees.push(emp);
        });
        employees.push(employee);

        localStorage.setItem('employeeList', JSON.stringify(employees));

        emps = JSON.parse(localStorage.getItem("employeeList") || "[]");

        var table = document.getElementById("records");
        emps.forEach(function (emp) {
            var row = table.insertRow(0);
            var cell1 = row.insertCell(0);
            var cell2 = row.insertCell(1);
            var cell3 = row.insertCell(2);
            var cell4 = row.insertCell(3);
            for (let i = 0; i < 4; i++) {
                cell1.innerHTML = `${emp['id']}`;
                cell2.innerHTML = `${emp['ename']}`;
                cell3.innerHTML = `${emp['email']}`;
                cell4.innerHTML = `${emp['dob']}`;
            }
        });
    </script>
    <script src="practice.js"></script>
</body>

</html>